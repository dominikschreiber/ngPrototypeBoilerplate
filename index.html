<!-- ngPrototypeBoilerplate by @domischreib -->
<!doctype html>

<html ng-app="app" ng-controller="MetaCtrl">

<head>
	<title ng-bind="meta.title()"></title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width; initial-scale=1.0">
	<meta name="fragment" content="!">
	
	<meta name="description" content="{{meta.description()}}">
	
	<meta name="twitter:card" content="{{twitter.card()}}">
	<meta name="twitter:title" content="{{twitter.title()}}">
	<meta name="twitter:description" content="{{twitter.description()}}">
	<meta name="twitter:image" content="{{twitter.image()}}">
	<meta name="twitter:site" content="{{twitter.site()}}">
	<meta name="twitter:creator" content="{{twitter.creator()}}">

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<style>

	</style>
</head>
    
<body>
	<div ng-view></div>

	<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular-route.min.js"></script>
	<!-- ===== app meta view ==================================== -->
	<script id="app/app.js">
	angular.module('app', ['metaService', 'twitterService', 'ng', 'ngRoute'])

	.config(['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {
		$routeProvider.otherwise({
			redirectTo: '/'
		});
		$locationProvider.html5Mode(false);
		$locationProvider.hashPrefix('!');
	}])

	.controller('MetaCtrl', ['meta', 'twitter', '$scope', function(meta, twitter, $scope) {
		$scope.meta = meta;
		$scope.twitter = twitter;
	}]);
	</script>
	<!-- ===== landing page view ================================ -->
	<script id="landingPage/landingPage.js">
	angular.module('landingPage', ['metaService', 'ng', 'ngRoute'])
	
	.config(['$routeProvider', function($routeProvider) {
		$routeProvider.when('/', {
			controller: 'LandingPageCtrl',
			templateUrl: 'landingPage/landing-page.tpl.html'
		})
	}])
	
	.controller('LandingPageCtrl', ['meta', '$scope', function(meta, $scope) {
		
	}]);
	</script>
	<script type="text/ng-template" id="landingPage/landing-page.tpl.html">
	
	</script>
	<!-- ===== meta service ===================================== -->
	<script id="metaService/metaService.js">
	angular.module('metaService', ['ng'])

	.factory('meta', [function() {
		var title = {
				prefix: undefined,
				suffix: undefined,
				separator: ' | '
			}
		  , description = undefined;

		return {
			title: function() {	return _.without([title.prefix, title.suffix], undefined).join(title.separator); },
			setTitlePrefix: function(prefix) { title.prefix = prefix; },
			setTitleSeparator: function(separator) { title.separator = separator; },
			setTitleSuffix: function(suffix) { title.suffix = suffix; },

			description: function() { return description; },
			setDescription: function(desc) { description = desc }
		};
	}])
	</script>
	<!-- ===== twitter service ================================== -->
	<script id="twitterService/twitterService.js">
	angular.module('twitterService', ['metaService', 'ng'])
	
	.factory('twitter', ['meta', function(meta) {
		var card = 'summary'
		  , title = undefined
		  , description = undefined
		  , site = undefined
		  , creator = undefined
		  , image = undefined;
		
		return {
			card: function() { return card; },
			setCard: function(c) { card = c; },
			
			title: function() { return title || meta.title(); },
			setTitle: function(t) { title = t; },
			
			description: function() { return description || meta.description() },
			setDescription: function(d) { description = d; },
			
			site: function() { return site; },
			setSite: function(s) { site = s; },
			
			creator: function() { return creator; },
			setCreator: function(c) { creator = c; },
			
			image: function() { return image; },
			setImage: function(i) { image = i; }
		}
	}]);
	</script>
</body>

</html>
